<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="da" style="font-size: 100%">
<head>
	<title>fcoo.dk - niord - Demo</title>
	<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv='x-dns-prefetch-control' content='on'>

	<meta name='copyright' content='FCOO'>
	<meta name='owner' content='FCOO'>

  <link  href="bower_components.css" rel="stylesheet">

</head>

<body>
	<script src="bower_components.js"></script>
	<script src="../src/niord.js"></script>

	<script>
        //Overwrite window.Niord.domainUrl to get alternative url 
        window.Niord.domainUrl = function( _domainUrl ){
            return function(){
                var result = _domainUrl.apply(this, arguments);

                //Adjust result...

                return result;
            }
        }(window.Niord.domainUrl);
        

        window.Promise.defaultErrorHandler = function( reason, url ){
            console.log('defaultErrorHandler=',reason, url);
        };
        window.Niord.defaultPromiseOptions = {useDefaultErrorHandler: false};
        window.Niord.defaultErrorHandler = function(){
            console.log('NIORD - Error');
        };


        window.Niord.load();
        var niord_messages = window.Niord.messages;
//*
        niord_messages.getMessage(
            '0cbef75e-15ef-470c-a098-04f6c59243be',
            function( mess ){
                console.log( '>>>>>>>>>>>>>>>>>> SINGLE EXSTISTING MESSAGE:', mess );
            },
            null, null, 'FROM index.html'
        );

//*/

//*
        niord_messages.getMessage(
            '83d09fcf-6555-44dc-805d-270599acb8ce',
            function( mess ){
                console.log( '>>>>>>>>>>>>>>>>>> SINGLE CANCELLED MESSAGE:', mess );
            },
            null, null, 'FROM index.html'
        );
//*/

//*
        niord_messages.getMessages('',
            function( data ){
                console.log( '>>>>>>>>>>>>>>>>>> ALL MESSAGES', data );
            },
            function( domain){ console.log( domain+' failed'); }
        );

//*/
        //niord_messages.load();



/*
        window.Niord.getMessage(
            'NM-141-20',
            function( mess ){
                console.log( 'NM-141-20', mess );
            },
            function( domain){ console.log('Error (no defaultError)',  domain+' failed'); },
            {useDefaultErrorHandler: false}
        );

        window.Niord.getMessage('NM-082-19',
            function( mess ){
                console.log( 'NM-082-19', mess );
            },
            function( domain){ console.log( domain+' failed'); }
        );

        window.Niord.getMessages('fe',
            function( data ){
                console.log( 'fe', data );
            },
            function( domain){ console.log( domain+' failed'); }
        );

        window.Niord.getMessages('fa fe nm nw',
            function( data ){
                console.log( 'fa fe nm nw', data );
                $.each(data, function(id, mess){
                    //console.log(mess.references);
                });
            },
            function( domain){ console.log( domain+' failed'); }
        );

        window.Niord.getMessage('NM-885-17',
            function( mess ){
                console.log('FOUND', mess);
            },
            function(){
                console.log('ØV BØV');
            }
        );

        window.Niord.getMessage('23c626d6-5f1f-4af8-b821-bc6173dc8518',
            function( mess ){
                console.log('FOUND', mess);
            },
            function(){
                console.log('ØV BØV');
            }
        );
//*

/*
        window.Niord.getMessages('',
            function( data ){
                console.log( 'ALL', data );
            },
            function( domain){ console.log( domain+' failed'); }
        );

        window.Niord.getMessages('fa fe',
            function( data ){
                console.log( 'fa fe', data );
            },
            function( domain){ console.log( domain+' failed'); }
        );
*/

/*
        //Load publications
        var niord_publications = window.Niord.publications({autoLoad: true});
        niord_publications.getPublications(
            function( data ){
                console.log( 'PUB', data );
            },
            function( domain){ console.log( 'PUB failed'); }
        );
*/

    </script>
</body>
</html>
